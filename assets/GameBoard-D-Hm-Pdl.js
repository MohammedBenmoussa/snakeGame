import{r as h,j as a,m as l,D as u,u as g,A as x,C as f}from"./index-CWIyBOpx.js";const v=({segments:s,isDark:t})=>{const r=h.useMemo(()=>s.map((o,e)=>{if(e===0)return"head";const c=s[e-1],n=o,i=c.x-n.x,d=c.y-n.y;return Math.abs(i)>1||Math.abs(d)>1?"edge":i!==0&&d!==0?"turn":"straight"}),[s]);return a.jsx(a.Fragment,{children:s.map((o,e)=>a.jsxs(l.div,{className:`absolute w-[calc(100%/20-1px)] h-[calc(100%/20-1px)]
            rounded-lg
            ${t?"bg-emerald-500 shadow-emerald-500/50":"bg-emerald-400 shadow-emerald-400/50"}
            shadow-lg
            ${e===0?"relative":""}`,style:{left:`${o.x*(100/20)}%`,top:`${o.y*(100/20)}%`},initial:e===0?{scale:.8}:{scale:.9},animate:r[e]==="head"?{scale:[1,1.1,1],rotate:[0,5,-5,0],boxShadow:[`0 0 10px ${t?"rgba(16, 185, 129, 0.5)":"rgba(52, 211, 153, 0.5)"}`,`0 0 20px ${t?"rgba(16, 185, 129, 0.7)":"rgba(52, 211, 153, 0.7)"}`,`0 0 10px ${t?"rgba(16, 185, 129, 0.5)":"rgba(52, 211, 153, 0.5)"}`]}:r[e]==="turn"?{scale:[.95,1,.95],rotate:o.x%2?[0,5,0]:[0,-5,0],boxShadow:`0 0 15px ${t?"rgba(16, 185, 129, 0.3)":"rgba(52, 211, 153, 0.3)"}`}:r[e]==="edge"?{scale:[.9,1.1,.9],opacity:[.7,1,.7]}:{scale:[.9,.95,.9],rotate:o.x%2?[0,3,0]:[0,-3,0]},transition:{duration:r[e]==="edge"?.3:1.5,repeat:1/0,repeatType:"reverse",delay:e*.1,ease:"easeInOut"},children:[e!==0&&a.jsx(l.div,{className:"absolute inset-0 rounded-lg opacity-50",style:{background:t?"radial-gradient(circle, rgba(16, 185, 129, 0.3) 0%, transparent 70%)":"radial-gradient(circle, rgba(52, 211, 153, 0.3) 0%, transparent 70%)"},animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),e===0&&a.jsxs(a.Fragment,{children:[a.jsx(l.div,{className:`absolute w-[20%] h-[20%] rounded-full 
                  bg-white
                  top-[20%] left-[20%]`,animate:{scale:[1,1.1,1],boxShadow:["0 0 5px rgba(255,255,255,0.5)","0 0 10px rgba(255,255,255,0.7)","0 0 5px rgba(255,255,255,0.5)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:a.jsx(l.div,{className:`absolute w-[50%] h-[50%] rounded-full bg-black
                    top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2`,animate:{scale:[1,.8,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})}),a.jsx(l.div,{className:`absolute w-[20%] h-[20%] rounded-full 
                  bg-white
                  top-[20%] right-[20%]`,animate:{scale:[1,1.1,1],boxShadow:["0 0 5px rgba(255,255,255,0.5)","0 0 10px rgba(255,255,255,0.7)","0 0 5px rgba(255,255,255,0.5)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:a.jsx(l.div,{className:`absolute w-[50%] h-[50%] rounded-full bg-black
                    top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2`,animate:{scale:[1,.8,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})})]})]},e))})},y=({position:s,isDark:t})=>a.jsx(l.div,{className:`absolute w-[calc(100%/20-1px)] h-[calc(100%/20-1px)]
        rounded-lg
        ${t?"bg-red-500 shadow-red-500/50":"bg-red-400 shadow-red-400/50"}
        shadow-lg`,style:{left:`${s.x*(100/20)}%`,top:`${s.y*(100/20)}%`},initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300,damping:20}}),w=s=>{h.useEffect(()=>{let t=0,r=0;const o=50,e=i=>{t=i.touches[0].clientX,r=i.touches[0].clientY},c=i=>{if(!t||!r)return;const d=i.touches[0].clientX,m=i.touches[0].clientY,b=d-t,p=m-r;Math.abs(b)<o&&Math.abs(p)<o||(Math.abs(b)>Math.abs(p)?b>0?s(u.RIGHT):s(u.LEFT):p>0?s(u.DOWN):s(u.UP),t=0,r=0)},n=()=>{t=0,r=0};return document.addEventListener("touchstart",e),document.addEventListener("touchmove",c),document.addEventListener("touchend",n),()=>{document.removeEventListener("touchstart",e),document.removeEventListener("touchmove",c),document.removeEventListener("touchend",n)}},[s])},$=({snake:s,food:t,showCelebration:r,onDirectionChange:o})=>{const{isDark:e}=g();return w(o),a.jsxs("div",{className:"relative touch-none select-none",children:[" ",a.jsx(x,{children:r&&a.jsx(f,{})}),a.jsxs(l.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:300,damping:30},className:`relative w-full aspect-square max-w-[600px] rounded-3xl overflow-hidden z-10
          ${e?"bg-[#151B2E]/90 backdrop-blur-xl":"bg-gray-100/95 backdrop-blur-md"}
          border ${e?"border-[#2A3347]":"border-gray-300"}
          ${e?"shadow-[0_0_50px_-12px_rgba(16,185,129,0.15)]":"shadow-[0_0_50px_-12px_rgba(107,114,128,0.25)]"}
          sm:hover:shadow-2xl transition-shadow duration-300`,children:[a.jsxs("div",{className:"absolute inset-0 p-[1px]",children:[" ",a.jsx("div",{className:"relative w-full h-full",children:Array.from({length:400}).map((c,n)=>a.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:n*.001},className:`absolute w-[calc(100%/20-1px)] h-[calc(100%/20-1px)] border
                  ${e?"border-[#1F2B45]/50":"border-gray-200"}
                  ${(Math.floor(n/20)+n%20)%2===0?e?"bg-[#1A2337]/30":"bg-gray-200/50":e?"bg-[#1A2337]/10":"bg-gray-100/50"}`,style:{left:`${n%20*(100/20)}%`,top:`${Math.floor(n/20)*(100/20)}%`}},n))})]}),a.jsx("div",{className:"absolute inset-0 p-[1px]",children:a.jsxs("div",{className:"relative w-full h-full",children:[a.jsx(v,{segments:s,isDark:e}),a.jsx(y,{position:t,isDark:e})]})}),a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:a.jsx("div",{className:`absolute inset-0 
            ${e?"bg-gradient-to-br from-emerald-500/[0.02] via-transparent to-emerald-500/[0.02]":"bg-gradient-to-br from-gray-400/[0.05] via-transparent to-gray-500/[0.05]"}`})}),a.jsx("div",{className:`absolute inset-0 pointer-events-none
          ${e?"bg-gradient-to-t from-black/10 via-transparent to-white/5":"bg-gradient-to-t from-gray-200/20 via-transparent to-white/20"}`})]})]})};export{$ as default};
