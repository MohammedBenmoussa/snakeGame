import{j as e,m as c,r as b,D as i,u as x,A as g,C as v}from"./index-DcCb8AyJ.js";const f=({segments:a,isDark:s})=>e.jsx(e.Fragment,{children:a.map((r,n)=>e.jsx(c.div,{className:`absolute w-[calc(100%/20-1px)] h-[calc(100%/20-1px)]
            rounded-lg
            ${s?"bg-emerald-500 shadow-emerald-500/50":"bg-emerald-400 shadow-emerald-400/50"}
            shadow-lg`,style:{left:`${r.x*(100/20)}%`,top:`${r.y*(100/20)}%`},initial:n===0?{scale:.8}:{scale:.9},animate:n===0?{scale:1}:{scale:.9},transition:{type:"spring",stiffness:300,damping:20}},n))}),w=({position:a,isDark:s})=>e.jsx(c.div,{className:`absolute w-[calc(100%/20-1px)] h-[calc(100%/20-1px)]
        rounded-lg
        ${s?"bg-red-500 shadow-red-500/50":"bg-red-400 shadow-red-400/50"}
        shadow-lg`,style:{left:`${a.x*(100/20)}%`,top:`${a.y*(100/20)}%`},initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300,damping:20}}),y=a=>{b.useEffect(()=>{let s=0,r=0;const n=50,t=l=>{s=l.touches[0].clientX,r=l.touches[0].clientY},d=l=>{if(!s||!r)return;const h=l.touches[0].clientX,p=l.touches[0].clientY,m=h-s,u=p-r;Math.abs(m)<n&&Math.abs(u)<n||(Math.abs(m)>Math.abs(u)?m>0?a(i.RIGHT):a(i.LEFT):u>0?a(i.DOWN):a(i.UP),s=0,r=0)},o=()=>{s=0,r=0};return document.addEventListener("touchstart",t),document.addEventListener("touchmove",d),document.addEventListener("touchend",o),()=>{document.removeEventListener("touchstart",t),document.removeEventListener("touchmove",d),document.removeEventListener("touchend",o)}},[a])},E=({snake:a,food:s,showCelebration:r,onDirectionChange:n})=>{const{isDark:t}=x();return y(n),e.jsxs("div",{className:"relative touch-none select-none",children:[" ",e.jsx(g,{children:r&&e.jsx(v,{})}),e.jsxs(c.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:300,damping:30},className:`relative w-full aspect-square max-w-[600px] rounded-3xl overflow-hidden z-10
          ${t?"bg-[#151B2E]/90 backdrop-blur-xl":"bg-gray-100/95 backdrop-blur-md"}
          border ${t?"border-[#2A3347]":"border-gray-300"}
          ${t?"shadow-[0_0_50px_-12px_rgba(16,185,129,0.15)]":"shadow-[0_0_50px_-12px_rgba(107,114,128,0.25)]"}
          sm:hover:shadow-2xl transition-shadow duration-300`,children:[e.jsxs("div",{className:"absolute inset-0 p-[1px]",children:[" ",e.jsx("div",{className:"relative w-full h-full",children:Array.from({length:400}).map((d,o)=>e.jsx(c.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:o*.001},className:`absolute w-[calc(100%/20-1px)] h-[calc(100%/20-1px)] border
                  ${t?"border-[#1F2B45]/50":"border-gray-200"}
                  ${(Math.floor(o/20)+o%20)%2===0?t?"bg-[#1A2337]/30":"bg-gray-200/50":t?"bg-[#1A2337]/10":"bg-gray-100/50"}`,style:{left:`${o%20*(100/20)}%`,top:`${Math.floor(o/20)*(100/20)}%`}},o))})]}),e.jsx("div",{className:"absolute inset-0 p-[1px]",children:e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx(f,{segments:a,isDark:t}),e.jsx(w,{position:s,isDark:t})]})}),e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsx("div",{className:`absolute inset-0 
            ${t?"bg-gradient-to-br from-emerald-500/[0.02] via-transparent to-emerald-500/[0.02]":"bg-gradient-to-br from-gray-400/[0.05] via-transparent to-gray-500/[0.05]"}`})}),e.jsx("div",{className:`absolute inset-0 pointer-events-none
          ${t?"bg-gradient-to-t from-black/10 via-transparent to-white/5":"bg-gradient-to-t from-gray-200/20 via-transparent to-white/20"}`})]})]})};export{E as default};
