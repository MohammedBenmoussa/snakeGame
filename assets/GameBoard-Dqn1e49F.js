import{j as e,m as s,R as f,r as y,D as c,u as x,A as g,C as v}from"./index-BJTvEf52.js";const w=({segments:r,isDark:a})=>r.map((n,t)=>e.jsxs(s.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{type:"spring",stiffness:500,damping:30},style:{position:"absolute",width:"28px",height:"28px",left:n.x*30,top:n.y*30,zIndex:r.length-t},layoutId:`snake-segment-${t}`,className:`relative ${t===0?a?"bg-gradient-to-br from-emerald-400 to-emerald-600":"bg-gradient-to-br from-light-accent-primary to-light-accent-secondary":a?"bg-gradient-to-br from-emerald-500 to-emerald-700":"bg-gradient-to-br from-light-accent-secondary to-light-accent-primary"} rounded-lg shadow-lg`,children:[t===0&&e.jsx("div",{className:"absolute top-[20%] w-full flex justify-around px-1 z-20",children:[...Array(2)].map((o,l)=>e.jsx(s.div,{className:"w-2 h-2 bg-white rounded-full relative",animate:{scale:[1,1.2,1],boxShadow:["0 0 0px rgba(255,255,255,0.3)","0 0 4px rgba(255,255,255,0.6)","0 0 0px rgba(255,255,255,0.3)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx(s.div,{className:`absolute top-1/2 left-1/2 w-1 h-1 
                  bg-black rounded-full -translate-x-1/2 -translate-y-1/2`,animate:{scale:[1,.8,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})},l))}),e.jsx(s.div,{className:"absolute inset-0 rounded-lg overflow-hidden z-10",animate:{background:["radial-gradient(circle at 30% 30%, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 50%)","radial-gradient(circle at 70% 70%, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 50%)","radial-gradient(circle at 30% 30%, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 50%)"]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:Math.min(t*.05,.5)}}),e.jsx(s.div,{className:`absolute -inset-1 rounded-xl blur-sm z-0
          ${t===0?"bg-emerald-400/30":"bg-emerald-500/20"}`,animate:{opacity:[.3,.6,.3],scale:[1,1.1,1]},transition:{duration:1.5,repeat:1/0,delay:Math.min(t*.05,.5),ease:"easeInOut"}}),e.jsx(s.div,{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent rounded-lg z-10",animate:{rotate:[0,5,-5,0],scale:[1,1.05,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:Math.min(t*.05,.5)}}),e.jsx(s.div,{className:"absolute inset-0 rounded-lg z-10",animate:{boxShadow:["inset 0 0 5px rgba(255,255,255,0.2)","inset 0 0 10px rgba(255,255,255,0.3)","inset 0 0 5px rgba(255,255,255,0.2)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut",delay:Math.min(t*.05,.5)}})]},t)),b=[{emoji:"ðŸŽ",color:"from-red-400 to-red-600",glow:"red-500"},{emoji:"ðŸ¥š",color:"from-yellow-100 to-yellow-200",glow:"yellow-200"},{emoji:"ðŸ‡",color:"from-purple-400 to-purple-600",glow:"purple-500"},{emoji:"ðŸŠ",color:"from-orange-400 to-orange-600",glow:"orange-500"},{emoji:"ðŸ«",color:"from-blue-400 to-blue-600",glow:"blue-500"},{emoji:"ðŸ“",color:"from-rose-400 to-rose-600",glow:"rose-500"}],j=({position:r})=>{const a=f.useMemo(()=>b[Math.floor(Math.random()*b.length)],[r]);return e.jsxs(s.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{type:"spring",stiffness:500,damping:30},style:{position:"absolute",width:"30px",height:"30px",left:r.x*30,top:r.y*30},className:"relative",children:[e.jsx(s.div,{className:`absolute inset-0 rounded-full bg-gradient-to-br ${a.color}
          shadow-lg`,style:{boxShadow:"0 0 10px var(--tw-shadow-color)","--tw-shadow-color":`rgb(var(--${a.glow}))`},animate:{scale:[1,1.1,1],opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),e.jsx(s.div,{className:"absolute inset-0 flex items-center justify-center text-lg",animate:{rotate:[0,10,-10,0],y:[0,-2,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:a.emoji}),e.jsx(s.div,{className:"absolute -inset-2 rounded-full opacity-50 blur-sm",style:{background:`radial-gradient(circle, rgb(var(--${a.glow}) / 0.3) 0%, transparent 70%)`},animate:{scale:[1,1.5,1],opacity:[.3,.5,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),[...Array(3)].map((n,t)=>e.jsx(s.div,{className:`absolute w-1 h-1 rounded-full bg-${a.glow}/50`,animate:{y:[0,-10,0],x:[0,t%2===0?5:-5,0],opacity:[0,1,0]},transition:{duration:2,repeat:1/0,delay:t*.3,ease:"easeInOut"},style:{left:"50%",bottom:"100%"}},t))]})},I=r=>{y.useEffect(()=>{let a=0,n=0;const t=50,o=d=>{a=d.touches[0].clientX,n=d.touches[0].clientY},l=d=>{if(!a||!n)return;const p=d.touches[0].clientX,h=d.touches[0].clientY,u=p-a,m=h-n;Math.abs(u)<t&&Math.abs(m)<t||(Math.abs(u)>Math.abs(m)?u>0?r(c.RIGHT):r(c.LEFT):m>0?r(c.DOWN):r(c.UP),a=0,n=0)},i=()=>{a=0,n=0};return document.addEventListener("touchstart",o),document.addEventListener("touchmove",l),document.addEventListener("touchend",i),()=>{document.removeEventListener("touchstart",o),document.removeEventListener("touchmove",l),document.removeEventListener("touchend",i)}},[r])},E=({snake:r,food:a,showCelebration:n,onDirectionChange:t})=>{const{isDark:o}=x();return I(t),e.jsxs("div",{className:"relative touch-none",children:[" ",e.jsx(g,{children:n&&e.jsx(v,{})}),e.jsxs(s.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:300,damping:30},className:`relative w-full aspect-square max-w-[600px] rounded-3xl overflow-hidden z-10
          ${o?"bg-[#151B2E]/90 backdrop-blur-xl":"bg-gray-100/95 backdrop-blur-md"}
          border ${o?"border-[#2A3347]":"border-gray-300"}
          ${o?"shadow-[0_0_50px_-12px_rgba(16,185,129,0.15)]":"shadow-[0_0_50px_-12px_rgba(107,114,128,0.25)]"}`,children:[e.jsx("div",{className:"absolute inset-0",children:e.jsx(g,{children:Array.from({length:400}).map((l,i)=>e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:i*.001},className:`absolute w-[28px] h-[28px] border
                  ${o?"border-[#1F2B45]/50":"border-gray-200"}
                  ${(Math.floor(i/20)+i%20)%2===0?o?"bg-[#1A2337]/30":"bg-gray-200/50":o?"bg-[#1A2337]/10":"bg-gray-100/50"}`,style:{left:i%20*30,top:Math.floor(i/20)*30}},i))})}),e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsx("div",{className:`absolute inset-0 
            ${o?"bg-gradient-to-br from-emerald-500/[0.02] via-transparent to-emerald-500/[0.02]":"bg-gradient-to-br from-gray-400/[0.05] via-transparent to-gray-500/[0.05]"}`})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(w,{segments:r,isDark:o}),e.jsx(j,{position:a,isDark:o})]}),e.jsx("div",{className:`absolute inset-0 pointer-events-none
          ${o?"bg-gradient-to-t from-black/10 via-transparent to-white/5":"bg-gradient-to-t from-gray-200/20 via-transparent to-white/20"}`})]})]})};export{E as default};
