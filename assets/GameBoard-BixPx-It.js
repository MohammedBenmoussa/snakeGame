import{j as e,m as d,r as p,D as i,u as g,A as v,C as f}from"./index-BiSkDkRb.js";const x=({segments:s,isDark:a})=>e.jsx(e.Fragment,{children:s.map((r,n)=>e.jsx(d.div,{className:`absolute w-[5%] h-[5%]
            rounded-lg
            ${a?"bg-emerald-500 shadow-emerald-500/50":"bg-emerald-400 shadow-emerald-400/50"}
            shadow-lg`,style:{left:`${r.x*5}%`,top:`${r.y*5}%`},initial:n===0?{scale:.8}:{scale:.9},animate:n===0?{scale:1}:{scale:.9},transition:{type:"spring",stiffness:300,damping:20}},n))}),w=({position:s,isDark:a})=>e.jsx(d.div,{className:`absolute w-[5%] h-[5%]
        rounded-lg
        ${a?"bg-red-500 shadow-red-500/50":"bg-red-400 shadow-red-400/50"}
        shadow-lg`,style:{left:`${s.x*5}%`,top:`${s.y*5}%`},initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300,damping:20}}),y=s=>{p.useEffect(()=>{let a=0,r=0;const n=50,t=l=>{a=l.touches[0].clientX,r=l.touches[0].clientY},c=l=>{if(!a||!r)return;const h=l.touches[0].clientX,b=l.touches[0].clientY,m=h-a,u=b-r;Math.abs(m)<n&&Math.abs(u)<n||(Math.abs(m)>Math.abs(u)?m>0?s(i.RIGHT):s(i.LEFT):u>0?s(i.DOWN):s(i.UP),a=0,r=0)},o=()=>{a=0,r=0};return document.addEventListener("touchstart",t),document.addEventListener("touchmove",c),document.addEventListener("touchend",o),()=>{document.removeEventListener("touchstart",t),document.removeEventListener("touchmove",c),document.removeEventListener("touchend",o)}},[s])},E=({snake:s,food:a,showCelebration:r,onDirectionChange:n})=>{const{isDark:t}=g();return y(n),e.jsxs("div",{className:"relative touch-none select-none",children:[" ",e.jsx(v,{children:r&&e.jsx(f,{})}),e.jsxs(d.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:300,damping:30},className:`relative w-full aspect-square max-w-[600px] rounded-3xl overflow-hidden z-10
          ${t?"bg-[#151B2E]/90 backdrop-blur-xl":"bg-gray-100/95 backdrop-blur-md"}
          border ${t?"border-[#2A3347]":"border-gray-300"}
          ${t?"shadow-[0_0_50px_-12px_rgba(16,185,129,0.15)]":"shadow-[0_0_50px_-12px_rgba(107,114,128,0.25)]"}
          sm:hover:shadow-2xl transition-shadow duration-300`,children:[e.jsxs("div",{className:"absolute inset-0 p-2",children:[" ",e.jsx("div",{className:"relative w-full h-full",children:Array.from({length:400}).map((c,o)=>e.jsx(d.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:o*.001},className:`absolute w-[5%] h-[5%] border
                  ${t?"border-[#1F2B45]/50":"border-gray-200"}
                  ${(Math.floor(o/20)+o%20)%2===0?t?"bg-[#1A2337]/30":"bg-gray-200/50":t?"bg-[#1A2337]/10":"bg-gray-100/50"}`,style:{left:`${o%20*5}%`,top:`${Math.floor(o/20)*5}%`}},o))})]}),e.jsxs("div",{className:"absolute inset-0 p-2",children:[" ",e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx(x,{segments:s,isDark:t}),e.jsx(w,{position:a,isDark:t})]})]}),e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsx("div",{className:`absolute inset-0 
            ${t?"bg-gradient-to-br from-emerald-500/[0.02] via-transparent to-emerald-500/[0.02]":"bg-gradient-to-br from-gray-400/[0.05] via-transparent to-gray-500/[0.05]"}`})}),e.jsx("div",{className:`absolute inset-0 pointer-events-none
          ${t?"bg-gradient-to-t from-black/10 via-transparent to-white/5":"bg-gradient-to-t from-gray-200/20 via-transparent to-white/20"}`})]})]})};export{E as default};
